{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { SafeAreaProvider } from \"react-native-safe-area-context\";\nimport { Text, View } from \"../components/Themed\";\nimport { useState } from \"react\";\nimport { global } from \"../style/styles\";\nimport { changePassword } from \"../API/Settings\";\nimport BasicModal from \"../components/modal\";\nimport { hidden } from \"../style/Hidden\";\nimport { Title } from \"../components/Title\";\nimport { GlobalButton } from \"../components/Button\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function Setting() {\n  var _useState = useState(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    Open = _useState2[0],\n    setOpen = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    Error = _useState4[0],\n    setError = _useState4[1];\n  console.log(SafeAreaProvider.Log);\n  var log = function () {\n    var _ref = _asyncToGenerator(function* () {\n      var res = yield changePassword(SafeAreaProvider.Log.Email);\n      console.log(res.status);\n      if (res.status == 204) {\n        setOpen(true);\n      } else setError(true);\n    });\n    return function log() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Title, {\n      title: \"Settings\",\n      subtitle: SafeAreaProvider.Log.Username\n    }), _jsxs(View, {\n      style: global.middleContainer,\n      children: [_jsxs(Text, {\n        children: [\"Email : \", SafeAreaProvider.Log.Email]\n      }), _jsxs(Text, {\n        children: [\"Last Connection : \", SafeAreaProvider.Log.Las]\n      }), _jsxs(Text, {\n        visible: Error,\n        children: [\"Bonjour : \", Open ? 'oui' : \"non\"]\n      }), _jsx(Text, {\n        style: !Error ? \"\" : hidden.Hidden,\n        children: \"Error on fucntion\"\n      })]\n    }), _jsxs(View, {\n      style: global.bottomContainer,\n      children: [_jsx(GlobalButton, {\n        title: \"Modifier le mot de passe\",\n        onPress: function onPress() {\n          return log();\n        }\n      }), _jsx(GlobalButton, {\n        title: \"Open Modal\",\n        onPress: function onPress() {\n          return setOpen(true);\n        }\n      })]\n    }), _jsx(BasicModal, {\n      Open: Open,\n      setOpen: setOpen\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: \"bold\"\n  },\n  separator: {\n    marginVertical: 30,\n    height: 1,\n    width: \"80%\"\n  },\n  Title: {\n    Flex: 1\n  }\n});","map":{"version":3,"names":["SafeAreaProvider","Text","View","useState","global","changePassword","BasicModal","hidden","Title","GlobalButton","Setting","Open","setOpen","Error","setError","console","log","Log","res","Email","status","styles","container","Username","middleContainer","Las","Hidden","bottomContainer","StyleSheet","create","flex","alignItems","justifyContent","title","fontSize","fontWeight","separator","marginVertical","height","width","Flex"],"sources":["/home/emartin/EIP/ModileAppv2/screens/Settings.js"],"sourcesContent":["import { Button, StyleSheet } from \"react-native\";\nimport { SafeAreaProvider } from \"react-native-safe-area-context\";\nimport { Text, View } from \"../components/Themed\";\nimport { useState } from \"react\";\n\nimport { global } from \"../style/styles\";\nimport { changePassword } from \"../API/Settings\";\nimport BasicModal from \"../components/modal\";\nimport { hidden } from \"../style/Hidden\";\nimport { Title } from \"../components/Title\";\nimport { GlobalButton } from \"../components/Button\";\nexport default function Setting() {\n\n  const [Open, setOpen] = useState(true)\n  const [Error, setError] = useState(false)\n  console.log(SafeAreaProvider.Log)\n  const log = ( async () => {\n  const res = await changePassword(SafeAreaProvider.Log.Email)\n  console.log(res.status)\n  if (res.status == 204) {\n      setOpen(true)\n    }\n    else \n      setError(true)\n  })\n\n\n  return (\n    <View style={styles.container}>\n      <Title title='Settings' subtitle={SafeAreaProvider.Log.Username}></Title>\n      <View style={global.middleContainer}>\n        <Text>Email : {SafeAreaProvider.Log.Email}</Text>\n        <Text>Last Connection : {SafeAreaProvider.Log.Las}</Text>\n        <Text visible={Error}>Bonjour : {Open ? 'oui' : \"non\"}</Text>\n      <Text style={!Error ? \"\" : hidden.Hidden}>Error on fucntion</Text>\n      </View>\n      <View style={global.bottomContainer}>\n        <GlobalButton title=\"Modifier le mot de passe\" onPress={() => log()}></GlobalButton>\n        <GlobalButton title=\"Open Modal\" onPress={() => setOpen(true)}></GlobalButton>\n      </View>\n      <BasicModal Open={Open} setOpen={setOpen}></BasicModal>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: \"bold\",\n  },\n  separator: {\n    marginVertical: 30,\n    height: 1,\n    width: \"80%\",\n  },\n  Title : {\n    Flex : 1\n  }\n});\n"],"mappings":";;;;AACA,SAASA,gBAAgB,QAAQ,gCAAgC;AACjE,SAASC,IAAI,EAAEC,IAAI;AACnB,SAASC,QAAQ,QAAQ,OAAO;AAEhC,SAASC,MAAM;AACf,SAASC,cAAc;AACvB,OAAOC,UAAU;AACjB,SAASC,MAAM;AACf,SAASC,KAAK;AACd,SAASC,YAAY;AAA+B;AAAA;AACpD,eAAe,SAASC,OAAO,GAAG;EAEhC,gBAAwBP,QAAQ,CAAC,IAAI,CAAC;IAAA;IAA/BQ,IAAI;IAAEC,OAAO;EACpB,iBAA0BT,QAAQ,CAAC,KAAK,CAAC;IAAA;IAAlCU,KAAK;IAAEC,QAAQ;EACtBC,OAAO,CAACC,GAAG,CAAChB,gBAAgB,CAACiB,GAAG,CAAC;EACjC,IAAMD,GAAG;IAAA,6BAAK,aAAY;MAC1B,IAAME,GAAG,SAASb,cAAc,CAACL,gBAAgB,CAACiB,GAAG,CAACE,KAAK,CAAC;MAC5DJ,OAAO,CAACC,GAAG,CAACE,GAAG,CAACE,MAAM,CAAC;MACvB,IAAIF,GAAG,CAACE,MAAM,IAAI,GAAG,EAAE;QACnBR,OAAO,CAAC,IAAI,CAAC;MACf,CAAC,MAECE,QAAQ,CAAC,IAAI,CAAC;IAClB,CAAC;IAAA,gBARKE,GAAG;MAAA;IAAA;EAAA,GAQP;EAGF,OACE,MAAC,IAAI;IAAC,KAAK,EAAEK,MAAM,CAACC,SAAU;IAAA,WAC5B,KAAC,KAAK;MAAC,KAAK,EAAC,UAAU;MAAC,QAAQ,EAAEtB,gBAAgB,CAACiB,GAAG,CAACM;IAAS,EAAS,EACzE,MAAC,IAAI;MAAC,KAAK,EAAEnB,MAAM,CAACoB,eAAgB;MAAA,WAClC,MAAC,IAAI;QAAA,uBAAUxB,gBAAgB,CAACiB,GAAG,CAACE,KAAK;MAAA,EAAQ,EACjD,MAAC,IAAI;QAAA,iCAAoBnB,gBAAgB,CAACiB,GAAG,CAACQ,GAAG;MAAA,EAAQ,EACzD,MAAC,IAAI;QAAC,OAAO,EAAEZ,KAAM;QAAA,yBAAYF,IAAI,GAAG,KAAK,GAAG,KAAK;MAAA,EAAQ,EAC/D,KAAC,IAAI;QAAC,KAAK,EAAE,CAACE,KAAK,GAAG,EAAE,GAAGN,MAAM,CAACmB,MAAO;QAAA;MAAA,EAAyB;IAAA,EAC3D,EACP,MAAC,IAAI;MAAC,KAAK,EAAEtB,MAAM,CAACuB,eAAgB;MAAA,WAClC,KAAC,YAAY;QAAC,KAAK,EAAC,0BAA0B;QAAC,OAAO,EAAE;UAAA,OAAMX,GAAG,EAAE;QAAA;MAAC,EAAgB,EACpF,KAAC,YAAY;QAAC,KAAK,EAAC,YAAY;QAAC,OAAO,EAAE;UAAA,OAAMJ,OAAO,CAAC,IAAI,CAAC;QAAA;MAAC,EAAgB;IAAA,EACzE,EACP,KAAC,UAAU;MAAC,IAAI,EAAED,IAAK;MAAC,OAAO,EAAEC;IAAQ,EAAc;EAAA,EAClD;AAEX;AAEA,IAAMS,MAAM,GAAGO,UAAU,CAACC,MAAM,CAAC;EAC/BP,SAAS,EAAE;IACTQ,IAAI,EAAE,CAAC;IACPC,UAAU,EAAE,QAAQ;IACpBC,cAAc,EAAE;EAClB,CAAC;EACDC,KAAK,EAAE;IACLC,QAAQ,EAAE,EAAE;IACZC,UAAU,EAAE;EACd,CAAC;EACDC,SAAS,EAAE;IACTC,cAAc,EAAE,EAAE;IAClBC,MAAM,EAAE,CAAC;IACTC,KAAK,EAAE;EACT,CAAC;EACD/B,KAAK,EAAG;IACNgC,IAAI,EAAG;EACT;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module"}